# Occupancy Map Configuration
# This file contains default parameters for the occupancy mapping system

occupancy_map_server:
  ros__parameters:
    # Map parameters
    resolution: 0.02          # Octree resolution in meters (5cm voxels)
    map_frame: "map"         # Reference frame for the map
    
    # Sensor range filtering
    max_range: 3.0            # Maximum sensor range in meters
    min_range: 0.0            # Minimum sensor range in meters
    
    # Octomap probability parameters
    prob_hit: 0.7             # Probability for hit (occupied)
    prob_miss: 0.4            # Probability for miss (free)
    clamp_min: 0.12           # Minimum clamping threshold
    clamp_max: 0.97           # Maximum clamping threshold
    occupancy_threshold: 0.5  # Threshold for occupied voxels
    
    # Ground plane filtering
    filter_ground_plane: true
    ground_distance_threshold: 0.04  # Distance in meters

    # Bounding box (limits octomap updates to this region)
    use_bounding_box: true
    bbx_min_x: -1.0
    bbx_min_y: -2.0
    bbx_min_z: 0.0
    bbx_max_x: 1.0
    bbx_max_y: -0.5
    bbx_max_z: 2.0
    
    # Input topics
    pointcloud_topic: "/firefly_left/points2"
    voxel_grid_topic: "/nbv_voxel_grid"
    planning_scene_world_topic: "/planning_scene_world"
    
    # Visualization
    publish_free_voxels: false  # Set to true to visualize free space
    visualization_rate: 1.0     # Hz

moveit_octomap_server:
  ros__parameters:
    resolution: 0.02
    map_frame: "map"
    
    max_range: 3.0
    min_range: 0.0

    prob_hit: 0.7
    prob_miss: 0.4
    clamp_min: 0.12
    clamp_max: 0.97
    occupancy_threshold: 0.5
    
    filter_ground_plane: true
    ground_distance_threshold: 0.04

    # Bounding box (limits octomap updates to this region)
    use_bounding_box: true
    bbx_min_x: -1.0
    bbx_min_y: -2.0
    bbx_min_z: 0.0
    bbx_max_x: 1.0
    bbx_max_y: -0.5
    bbx_max_z: 2.0
    
    pointcloud_topic: "/firefly_left/points2"
    voxel_grid_topic: "/nbv_voxel_grid"
    planning_scene_world_topic: "/planning_scene_world"
    
    publish_free_voxels: false
    visualization_rate: 1.0
    octomap_publish_rate: 1.0   # Moveit octomap publish rate in Hz
